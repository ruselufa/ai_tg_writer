# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

## üéØ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### **–î–æ:**
- 354 —Å—Ç—Ä–æ–∫–∏ —Å `log.Printf()` –≤ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É
- –ú–Ω–æ–≥–æ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- –ù–µ—Ç –º–µ—Ç—Ä–∏–∫ –ø–æ –ª–æ–≥–∞–º

### **–ü–æ—Å–ª–µ:**
- –°–∏—Å—Ç–µ–º–∞ —É—Ä–æ–≤–Ω–µ–π –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –ú–µ—Ç—Ä–∏–∫–∏ –≤ Prometheus
- –î–∞—à–±–æ—Ä–¥—ã –≤ Grafana
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

## üîß –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### **1. –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è**

```bash
# –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é (—Ç–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã–µ –ª–æ–≥–∏)
export LOG_LEVEL=INFO

# –î–ª—è –æ—Ç–ª–∞–¥–∫–∏ (–≤—Å–µ –ª–æ–≥–∏)
export LOG_LEVEL=DEBUG

# –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
export LOG_LEVEL=ERROR
```

### **2. –í Docker Compose**

```yaml
environment:
  - LOG_LEVEL=INFO
```

## üìä –ù–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

### **–í Prometheus:**
- `log_messages_total` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ–≥–æ–≤ –ø–æ —É—Ä–æ–≤–Ω—è–º
- `user_interactions_total` - –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `processing_steps_total` - —à–∞–≥–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏

### **–í Grafana:**
- **Log Messages by Level** - –ª–æ–≥–∏ –ø–æ —É—Ä–æ–≤–Ω—è–º
- **User Interactions** - –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **Processing Steps** - —à–∞–≥–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

### **–ò–º–ø–æ—Ä—Ç:**
```go
import "your-project/internal/monitoring"
```

### **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```go
// –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (—Ç–æ–ª—å–∫–æ –ø—Ä–∏ DEBUG)
monitoring.Debug("–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: %s", data)

// –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
monitoring.Info("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å %d –æ—Ç–ø—Ä–∞–≤–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ", userID)

// –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
monitoring.Warn("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–∞–º—è—Ç–∏")

// –û—à–∏–±–∫–∏ (–≤—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è)
monitoring.Error("–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏: %v", err)

// –°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (–≤—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è)
monitoring.System("–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ")
```

### **–ú–µ—Ç—Ä–∏–∫–∏:**
```go
// –ó–∞–ø–∏—Å—å –º–µ—Ç—Ä–∏–∫
monitoring.RecordLogMessage("info", "bot")
monitoring.RecordUserInteraction("voice", "premium")
monitoring.RecordProcessingStep("whisper", "success")
```

## üöÄ –ó–∞–ø—É—Å–∫

### **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞:**
```bash
# –í—Å–µ –ª–æ–≥–∏
export LOG_LEVEL=DEBUG
./start_app.sh

# –¢–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã–µ
export LOG_LEVEL=INFO
./start_app.sh
```

### **–ü—Ä–æ–¥–∞–∫—à–Ω:**
```bash
# –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏ –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–µ
export LOG_LEVEL=ERROR
./start_app.sh
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### **Grafana –¥–∞—à–±–æ—Ä–¥—ã:**
- http://localhost:3000 - –æ—Å–Ω–æ–≤–Ω–æ–π –¥–∞—à–±–æ—Ä–¥
- http://localhost:3000/grafana/ - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### **–ü–æ–ª–µ–∑–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:**
```promql
# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ –≤ –º–∏–Ω—É—Ç—É
rate(log_messages_total{level="error"}[5m]) * 60

# –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
rate(user_interactions_total[5m]) * 60

# –£—Å–ø–µ—à–Ω—ã–µ —à–∞–≥–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏
rate(processing_steps_total{status="success"}[5m]) * 60
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - —É–±—Ä–∞–Ω—ã –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –ª–æ–≥–∏
- ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –º–µ—Ç—Ä–∏–∫–∏ –≤ Prometheus
- ‚úÖ **–û—Ç–ª–∞–¥–∫–∞** - —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ **–ê–ª–µ—Ä—Ç—ã** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

## üîß Troubleshooting

### **–ï—Å–ª–∏ –Ω–µ –≤–∏–¥–Ω–æ –ª–æ–≥–æ–≤:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Ä–æ–≤–µ–Ω—å
echo $LOG_LEVEL

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ DEBUG –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
export LOG_LEVEL=DEBUG
```

### **–ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –º–µ—Ç—Ä–∏–∫–∏:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Prometheus
curl http://localhost:9090/api/v1/targets

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–µ—Ç—Ä–∏–∫–∏
curl http://localhost:8080/metrics | grep log_messages
```

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º! üöÄ
