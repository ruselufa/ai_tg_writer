# üö¶ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π —Å —Å–µ–º–∞—Ñ–æ—Ä–æ–º

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è Telegram –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–µ–º–∞—Ñ–æ—Ä–∞ –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç–æ–∫.

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- ‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –ú–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∫—Ä–∞—â–∞–µ—Ç –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è
- ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**: –ó–∞—â–∏—â–∞–µ—Ç –æ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –†–∞–∑–º–µ—Ä —Å–µ–º–∞—Ñ–æ—Ä–∞
```go
const maxConcurrentHandlers = 5
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- **–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**: 2-3
- **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞**: 5-10
- **–î–ª—è –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏**: 10-20

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ —Ä–µ—Å—É—Ä—Å–∞–º
- **–ú–∞–ª–æ–º–æ—â–Ω—ã–π —Å–µ—Ä–≤–µ—Ä**: 3-5 –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- **–°—Ä–µ–¥–Ω–∏–π —Å–µ—Ä–≤–µ—Ä**: 5-10 –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤  
- **–ú–æ—â–Ω—ã–π —Å–µ—Ä–≤–µ—Ä**: 10-20 –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ —Å–µ–º–∞—Ñ–æ—Ä–∞
```
üö¶ [–°–µ–º–∞—Ñ–æ—Ä] –ü–æ–ª—É—á–µ–Ω —Å–ª–æ—Ç. –ê–∫—Ç–∏–≤–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç–æ–∫: 1/5
üö¶ [–°–µ–º–∞—Ñ–æ—Ä] –û–±—Ä–∞–±–æ—Ç—á–∏–∫ 1 –Ω–∞—á–∞–ª —Ä–∞–±–æ—Ç—É
üë§ [–°–µ–º–∞—Ñ–æ—Ä] –û–±—Ä–∞–±–æ—Ç—á–∏–∫ 1 —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º 123456789 (@username)
üö¶ [–°–µ–º–∞—Ñ–æ—Ä] –û–±—Ä–∞–±–æ—Ç—á–∏–∫ 1 –∑–∞–≤–µ—Ä—à–µ–Ω –∑–∞ 55.2s. –ê–∫—Ç–∏–≤–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç–æ–∫: 0/5
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```
üìä [–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞] –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ: 25, –ê–∫—Ç–∏–≤–Ω—ã—Ö: 3/5, –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: 47.8s
```

**–í—ã–≤–æ–¥–∏—Ç—Å—è –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥**

## üîß –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ª–æ—Ç–∞
```go
semaphore <- struct{}{} // –ë–ª–æ–∫–∏—Ä—É–µ—Ç, –µ—Å–ª–∏ –≤—Å–µ —Å–ª–æ—Ç—ã –∑–∞–Ω—è—Ç—ã
```

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ –≥–æ—Ä—É—Ç–∏–Ω–µ
```go
go func(update tgbotapi.Update, handlerID int32) {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
    defer func() { <-semaphore }() // –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Å–ª–æ—Ç–∞
}()
```

### 3. –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Å–ª–æ—Ç–∞
```go
<-semaphore // –°–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—Ä–æ—Å –º–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É
```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ë–µ–∑ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏ (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ)
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å A: 55 —Å–µ–∫—É–Ω–¥
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å B: 110 —Å–µ–∫—É–Ω–¥ (–∂–¥–µ—Ç A)
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å C: 165 —Å–µ–∫—É–Ω–¥ (–∂–¥–µ—Ç A –∏ B)
```

### –° –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å—é (—Å–µ–º–∞—Ñ–æ—Ä = 5)
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ A-E: 55 —Å–µ–∫—É–Ω–¥ (–æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å F: 70 —Å–µ–∫—É–Ω–¥ (–∂–¥–µ—Ç –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Å–ª–æ—Ç–∞)
```

## üö® –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### 1. –ü–∞–º—è—Ç—å
- –ö–∞–∂–¥–∞—è –≥–æ—Ä—É—Ç–∏–Ω–∞ –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç ~2-8KB
- 5 –≥–æ—Ä—É—Ç–∏–Ω = 10-40KB –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ø–∞–º—è—Ç–∏

### 2. –°–µ—Ç–µ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- Telegram API: –¥–æ 30 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫—É–Ω–¥—É
- Deepseek API: –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∞—Ä–∏—Ñ–∞
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ PostgreSQL

### 3. CPU
- –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≥–æ—Ä—É—Ç–∏–Ω = –º–Ω–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- –û–ø—Ç–∏–º–∞–ª—å–Ω–æ: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Ä—É—Ç–∏–Ω = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ CPU —è–¥–µ—Ä √ó 2

## üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```go
const maxConcurrentHandlers = 2 // –ú–µ–Ω—å—à–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```go
const maxConcurrentHandlers = 3 // –°—Ä–µ–¥–Ω—è—è –Ω–∞–≥—Ä—É–∑–∫–∞
```

### –ü—Ä–æ–¥–∞–∫—à–µ–Ω
```go
const maxConcurrentHandlers = 5 // –û–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤
```

### –í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞
```go
const maxConcurrentHandlers = 10 // –¢–æ–ª—å–∫–æ –¥–ª—è –º–æ—â–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤
```

## üîç –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–µ–º–∞—Ñ–æ—Ä–∞
```bash
# –í –ª–æ–≥–∞—Ö –∏—â–∏—Ç–µ:
üö¶ [–°–µ–º–∞—Ñ–æ—Ä] –ü–æ–ª—É—á–µ–Ω —Å–ª–æ—Ç
üö¶ [–°–µ–º–∞—Ñ–æ—Ä] –û–±—Ä–∞–±–æ—Ç—á–∏–∫ X –Ω–∞—á–∞–ª —Ä–∞–±–æ—Ç—É
üö¶ [–°–µ–º–∞—Ñ–æ—Ä] –û–±—Ä–∞–±–æ—Ç—á–∏–∫ X –∑–∞–≤–µ—Ä—à–µ–Ω
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
```bash
# –ö–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥:
üìä [–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞] –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ: X, –ê–∫—Ç–∏–≤–Ω—ã—Ö: Y/Z
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏** –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω—ã–º
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤** –Ω–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–µ–≤—ã—à–∞—Ç—å –ª–∏–º–∏—Ç
- **–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö** –¥–æ–ª–∂–Ω–æ —Ä–∞—Å—Ç–∏ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### 1. –°–µ–º–∞—Ñ–æ—Ä –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
**–°–∏–º–ø—Ç–æ–º—ã**: –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∂–¥—É—Ç
**–†–µ—à–µ–Ω–∏–µ**: –£–≤–µ–ª–∏—á–∏—Ç—å `maxConcurrentHandlers`

### 2. –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≥–æ—Ä—É—Ç–∏–Ω
**–°–∏–º–ø—Ç–æ–º—ã**: –í—ã—Å–æ–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
**–†–µ—à–µ–Ω–∏–µ**: –£–º–µ–Ω—å—à–∏—Ç—å `maxConcurrentHandlers`

### 3. –ú–µ–¥–ª–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
**–°–∏–º–ø—Ç–æ–º—ã**: –í—ã—Å–æ–∫–æ–µ —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è
**–†–µ—à–µ–Ω–∏–µ**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–Ω–µ—à–Ω–∏–µ API

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏:
- **–í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è** —Å–æ–∫—Ä–∞—Ç–∏—Ç—Å—è –≤ 3-5 —Ä–∞–∑
- **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å** —É–≤–µ–ª–∏—á–∏—Ç—Å—è –≤ 3-5 —Ä–∞–∑
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç** –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∏—Ç—Å—è
- **–°–∏—Å—Ç–µ–º–∞** —Å—Ç–∞–Ω–µ—Ç –±–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ–π –ø—Ä–∏ –Ω–∞–≥—Ä—É–∑–∫–µ
